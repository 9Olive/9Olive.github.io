---
title: "Avocados for Data Analyst"
subtitle: "Avocado Intro & EDA"
layout: post
bigimg: /blog/addons/2020-04-20-avocados/sliced-avocado-fruit-on-white-surface-3850662.jpg
tags: [ggplot, RStudio, dplyr, lineplot, Avocados, Analysis, Visualization]
---





# Introduction

Avocados. They are a hearty, savory and a delicious snack. In the recent decade, avocados have trended harder than alternative dairy and meat products, and yet, the humble fruit does not aim to change the world. In this multi-part post, I dive in to the pit of the avocado boom during in the last half of the 2010s. I explore a dataset, modeling techniques, and R dashboarding summarizations. 

These posts are intended for the data analysts or data scientists who use R. The final dashboard is intended for a broader audience.

# Exploratory Data Analysis

  * Methods for summarizing our dataset
  * Methods for visualizing our dataset





We start the project by pulling a user-compile dataset from Kaggle, and credit is due to [Justin Kiggins](https://www.kaggle.com/neuromusic). Below is a summary from the dataset [source page](https://www.kaggle.com/neuromusic). Follow the if you would like to view the dataset referenced in the following excerpt.

  > The table below represents weekly 2018 retail scan data for National retail volume (units) and price. Retail scan data comes directly from retailers’ cash registers based on actual retail sales of Hass avocados. Starting in 2013, the table below reflects an expanded, multi-outlet retail data set. Multi-outlet reporting includes an aggregation of the following channels: grocery, mass, club, drug, dollar and military. The Average Price (of avocados) in the table reflects a per unit (per avocado) cost, even when multiple units (avocados) are sold in bags. The Product Lookup codes (PLU’s) in the table are only for Hass avocados. Other varieties of avocados (e.g. greenskins) are not included in this table.
  
We start by viewing a summary of our dataset, type of avocados, and the regions. The `summary()` function is useful for this. 



From the summary, we notice a couple of things.
  
  * X1 are weeks of the year, enumerated in reverse. 
  * Date was read in properly. 
  * The average price of an avocado never is between 44 cents and $3.25.
  * At one point, 63 million avocados were sold from one region in a single week!
  * Type and Region should be formatted to factors. 
  * Regions are Cities, States, and US Regions. Let's remove US Regions and states, as it double counts some cities. 
    * We need to instiage NewYork region. Is it the state or the city? No information regarding this was available from the data source.

I will compare New York to Los Angeles and California. 



From the table above, it's easy to see that NewYork refers to the city and not the state. I will keep NewYork.



Looks like we are missing some data for WestTexNewMexico... 



The Region_Ct confirms the missing data.

From WestTexNewMexio we are missing 3 index values of their organic 'cados. Looking at this missing data more closely:



The missing data is not a big deal. We are missing a week of data in December 2015 and two weeks of data in June 2017 for West Texas + New Mexcico. We can handle it by filling in the mean of the surrounding values. We will not do that here. Based on the number of regions we have, I'm inclined to simply drop WestTextNewMexico.




# Visualizing data

Let's start by visulizing Average Price



We see a right skewed bell shaped distribution that might be bimodal. Maybe it is best to look at one slice of time. 



Our two humps are still there. This might be due to the type of Avocado. Organic vs. Conventional.



Well, kind of... The Conventional Avocados look to have a bimodal distribution, while the organic 'cados are centered around a $1.70. Though, the organic 'cados have a fat tail, and it seems that a small hump is emerging from it.

So our Average price is not exactly what you would say "Normally Distributed" across regions for a given slice of time. What does the price look like across time for a fixed region?



As we narrow our focus we see the resolution of our dataset sharpen. Organic and conventional avocados have a nice bell shape to them. Is this the case for all regions?



Oh no, having a nice bell shaped distribution is certaintly not ubiquitous across all regions. The thing is, we are considering data the takes place over time. Let's explore how the price has evolved over the data set.

We start by considering the the average avocado price from 2015 - 2018. 



There are not any obvious trends to be observed from the time series. The volitility in avocado prices seems to have peaked in October 2017.

I suspect it will be more useful to investigate particular regions. We can't look at all regions simultaneously, so we'll considered three segments. 

  1. Regions with the most expensive avocado during a certain time
  2. Regions with the least expensive avocado during a certain time
  3. Randomly selected regions

Below I use patchwork to stitch the plots together as oppose to facetting. I like the way the labels and titles are preserved for each plot. With that said, I still find uses for facetting, as will be seen below.



Overall, we still don't observe a cyclical of distinct trend in with prices. The volatility in prices seems present across all regions. What's interesting is that the least expensive regions seem to spike in price towards the end of the 2017 bubble. 

Lastly, I'll look at the weekly volume data using the same framework as the chunk above. I will spare the code. I've kept the selection criteria the same, so again the most expensive, least expensive and two random regions. I also made some formatting changes.



Looks like we have a bit more seasonality when it comes to weekly output.

In my next post, I will be looking at modeling this data. We will explore various methods, model diagnostics and such.


